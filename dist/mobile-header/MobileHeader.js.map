{"version":3,"file":"MobileHeader.js","names":["React","PropTypes","useIntl","getConfig","MobileUserMenuToggleSlot","Menu","MenuTrigger","MenuContent","LogoSlot","MobileLoggedOutItemsSlot","mobileHeaderLoggedOutItemsDataShape","MobileMainMenuSlot","mobileHeaderMainMenuDataShape","MobileUserMenuSlot","mobileHeaderUserMenuDataShape","messages","MenuIcon","MobileHeader","_ref","mainMenu","secondaryMenu","userMenu","loggedOutItems","logo","logoAltText","logoDestination","avatar","username","loggedIn","stickyOnMobile","intl","renderMainMenu","createElement","menu","concat","_toConsumableArray","renderUserMenuItems","renderLoggedOutItems","items","renderUserMenuToggle","label","logoProps","src","alt","href","stickyClassName","logoClasses","AUTHN_MINIMAL_HEADER","formatMessage","className","length","tag","title","role","focusable","style","width","height","_extends","itemType","mobileHeaderDataShape","string","bool","propTypes","defaultProps"],"sources":["../../src/mobile-header/MobileHeader.jsx"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useIntl } from '@edx/frontend-platform/i18n';\nimport { getConfig } from '@edx/frontend-platform';\n\n// Local Components\nimport MobileUserMenuToggleSlot from '../plugin-slots/MobileUserMenuToggleSlot';\nimport { Menu, MenuTrigger, MenuContent } from '../Menu';\nimport LogoSlot from '../plugin-slots/LogoSlot';\nimport MobileLoggedOutItemsSlot from '../plugin-slots/MobileLoggedOutItemsSlot';\nimport { mobileHeaderLoggedOutItemsDataShape } from './MobileLoggedOutItems';\nimport MobileMainMenuSlot from '../plugin-slots/MobileMainMenuSlot';\nimport { mobileHeaderMainMenuDataShape } from './MobileHeaderMainMenu';\nimport MobileUserMenuSlot from '../plugin-slots/MobileUserMenuSlot';\nimport { mobileHeaderUserMenuDataShape } from './MobileHeaderUserMenu';\n\n// i18n\nimport messages from '../Header.messages';\n\n// Assets\nimport { MenuIcon } from '../Icons';\n\nconst MobileHeader = ({\n  mainMenu,\n  secondaryMenu,\n  userMenu,\n  loggedOutItems,\n  logo,\n  logoAltText,\n  logoDestination,\n  avatar,\n  username,\n  loggedIn,\n  stickyOnMobile,\n}) => {\n  const intl = useIntl();\n\n  const renderMainMenu = () => <MobileMainMenuSlot menu={[...mainMenu, ...secondaryMenu]} />;\n\n  const renderUserMenuItems = () => <MobileUserMenuSlot menu={userMenu} />;\n\n  const renderLoggedOutItems = () => <MobileLoggedOutItemsSlot items={loggedOutItems} />;\n\n  const renderUserMenuToggle = () => <MobileUserMenuToggleSlot avatar={avatar} label={username} />;\n\n  const logoProps = { src: logo, alt: logoAltText, href: logoDestination };\n  const stickyClassName = stickyOnMobile ? 'sticky-top' : '';\n  const logoClasses = getConfig().AUTHN_MINIMAL_HEADER ? 'justify-content-left pl-3' : 'justify-content-center';\n\n  return (\n    <header\n      aria-label={intl.formatMessage(messages['header.label.main.header'])}\n      className={`site-header-mobile d-flex justify-content-between align-items-center shadow ${stickyClassName}`}\n    >\n      <a className=\"nav-skip sr-only sr-only-focusable\" href=\"#main\">{intl.formatMessage(messages['header.label.skip.nav'])}</a>\n      {mainMenu.length > 0 ? (\n        <div className=\"w-100 d-flex justify-content-start\">\n\n          <Menu className=\"position-static\">\n            <MenuTrigger\n              tag=\"button\"\n              className=\"icon-button\"\n              aria-label={intl.formatMessage(messages['header.label.main.menu'])}\n              title={intl.formatMessage(messages['header.label.main.menu'])}\n            >\n              <MenuIcon role=\"img\" aria-hidden focusable=\"false\" style={{ width: '1.5rem', height: '1.5rem' }} />\n            </MenuTrigger>\n            <MenuContent\n              tag=\"nav\"\n              aria-label={intl.formatMessage(messages['header.label.main.nav'])}\n              className=\"nav flex-column pin-left pin-right border-top shadow py-2\"\n            >\n              {renderMainMenu()}\n            </MenuContent>\n          </Menu>\n        </div>\n      ) : null}\n      <div className={`w-100 d-flex ${logoClasses}`}>\n        <LogoSlot {...logoProps} itemType=\"http://schema.org/Organization\" />\n      </div>\n      {userMenu.length > 0 || loggedOutItems.length > 0 ? (\n        <div className=\"w-100 d-flex justify-content-end align-items-center\">\n          <Menu tag=\"nav\" aria-label={intl.formatMessage(messages['header.label.secondary.nav'])} className=\"position-static\">\n            <MenuTrigger\n              tag=\"button\"\n              className=\"icon-button\"\n              aria-label={intl.formatMessage(messages['header.label.account.menu'])}\n              title={intl.formatMessage(messages['header.label.account.menu'])}\n            >\n              {renderUserMenuToggle()}\n            </MenuTrigger>\n            <MenuContent tag=\"ul\" className=\"nav flex-column pin-left pin-right border-top shadow py-2\">\n              {loggedIn ? renderUserMenuItems() : renderLoggedOutItems()}\n            </MenuContent>\n          </Menu>\n        </div>\n      ) : null}\n    </header>\n  );\n};\n\nexport const mobileHeaderDataShape = {\n  mainMenu: mobileHeaderMainMenuDataShape,\n  secondaryMenu: mobileHeaderMainMenuDataShape,\n  userMenu: mobileHeaderUserMenuDataShape,\n  loggedOutItems: mobileHeaderLoggedOutItemsDataShape,\n  logo: PropTypes.string,\n  logoAltText: PropTypes.string,\n  logoDestination: PropTypes.string,\n  avatar: PropTypes.string,\n  username: PropTypes.string,\n  loggedIn: PropTypes.bool,\n  stickyOnMobile: PropTypes.bool,\n};\n\nMobileHeader.propTypes = {\n  mainMenu: mobileHeaderDataShape.mainMenu,\n  secondaryMenu: mobileHeaderDataShape.secondaryMenu,\n  userMenu: mobileHeaderDataShape.userMenu,\n  loggedOutItems: mobileHeaderDataShape.loggedOutItems,\n  logo: mobileHeaderDataShape.logo,\n  logoAltText: mobileHeaderDataShape.logoAltText,\n  logoDestination: mobileHeaderDataShape.logoDestination,\n  avatar: mobileHeaderDataShape.avatar,\n  username: mobileHeaderDataShape.username,\n  loggedIn: mobileHeaderDataShape.loggedIn,\n  stickyOnMobile: mobileHeaderDataShape.stickyOnMobile,\n};\n\nMobileHeader.defaultProps = {\n  mainMenu: [],\n  secondaryMenu: [],\n  userMenu: [],\n  loggedOutItems: [],\n  logo: null,\n  logoAltText: null,\n  logoDestination: null,\n  avatar: null,\n  username: null,\n  loggedIn: false,\n  stickyOnMobile: true,\n\n};\n\nexport default MobileHeader;\n"],"mappings":"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","ignoreList":[]}