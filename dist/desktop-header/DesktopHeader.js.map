{"version":3,"file":"DesktopHeader.js","names":["React","PropTypes","useIntl","getConfig","DesktopUserMenuToggleSlot","Menu","MenuTrigger","MenuContent","LogoSlot","DesktopLoggedOutItemsSlot","desktopLoggedOutItemsDataShape","DesktopMainMenuSlot","desktopHeaderMainOrSecondaryMenuDataShape","DesktopSecondaryMenuSlot","DesktopUserMenuSlot","desktopUserMenuDataShape","messages","DesktopHeader","_ref","mainMenu","secondaryMenu","userMenu","loggedOutItems","logo","logoAltText","logoDestination","avatar","username","loggedIn","intl","renderMainMenu","createElement","menu","renderSecondaryMenu","renderUserMenu","transitionClassName","transitionTimeout","tag","formatMessage","className","label","renderLoggedOutItems","items","logoProps","src","alt","href","logoClasses","AUTHN_MINIMAL_HEADER","concat","Fragment","desktopHeaderDataShape","string","bool","propTypes","defaultProps"],"sources":["../../src/desktop-header/DesktopHeader.jsx"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useIntl } from '@edx/frontend-platform/i18n';\nimport { getConfig } from '@edx/frontend-platform';\n\n// Local Components\nimport DesktopUserMenuToggleSlot\n  from '../plugin-slots/DesktopUserMenuToggleSlot';\nimport { Menu, MenuTrigger, MenuContent } from '../Menu';\nimport LogoSlot from '../plugin-slots/LogoSlot';\nimport DesktopLoggedOutItemsSlot from '../plugin-slots/DesktopLoggedOutItemsSlot';\nimport { desktopLoggedOutItemsDataShape } from './DesktopLoggedOutItems';\nimport DesktopMainMenuSlot from '../plugin-slots/DesktopMainMenuSlot';\nimport { desktopHeaderMainOrSecondaryMenuDataShape } from './DesktopHeaderMainOrSecondaryMenu';\nimport DesktopSecondaryMenuSlot from '../plugin-slots/DesktopSecondaryMenuSlot';\nimport DesktopUserMenuSlot from '../plugin-slots/DesktopUserMenuSlot';\nimport { desktopUserMenuDataShape } from './DesktopHeaderUserMenu';\n\n// i18n\nimport messages from '../Header.messages';\n\n// Assets\n\nconst DesktopHeader = ({\n  mainMenu,\n  secondaryMenu,\n  userMenu,\n  loggedOutItems,\n  logo,\n  logoAltText,\n  logoDestination,\n  avatar,\n  username,\n  loggedIn,\n}) => {\n  const intl = useIntl();\n\n  const renderMainMenu = () => <DesktopMainMenuSlot menu={mainMenu} />;\n\n  const renderSecondaryMenu = () => <DesktopSecondaryMenuSlot menu={secondaryMenu} />;\n\n  const renderUserMenu = () => (\n    <Menu transitionClassName=\"menu-dropdown\" transitionTimeout={250}>\n      <MenuTrigger\n        tag=\"button\"\n        aria-label={intl.formatMessage(messages['header.label.account.menu.for'], { username })}\n        className=\"btn btn-outline-primary d-inline-flex align-items-center pl-2 pr-3\"\n      >\n        <DesktopUserMenuToggleSlot avatar={avatar} label={username} />\n      </MenuTrigger>\n      <MenuContent className=\"mb-0 dropdown-menu show dropdown-menu-right pin-right shadow py-2\">\n        <DesktopUserMenuSlot menu={userMenu} />\n      </MenuContent>\n    </Menu>\n  );\n\n  const renderLoggedOutItems = () => <DesktopLoggedOutItemsSlot items={loggedOutItems} />;\n\n  const logoProps = { src: logo, alt: logoAltText, href: logoDestination };\n  const logoClasses = getConfig().AUTHN_MINIMAL_HEADER ? 'mw-100' : null;\n\n  return (\n    <header className=\"site-header-desktop\">\n      <a className=\"nav-skip sr-only sr-only-focusable\" href=\"#main\">{intl.formatMessage(messages['header.label.skip.nav'])}</a>\n      <div className={`container-fluid ${logoClasses}`}>\n        <div className=\"nav-container position-relative d-flex align-items-center\">\n          <LogoSlot {...logoProps} />\n          <nav\n            aria-label={intl.formatMessage(messages['header.label.main.nav'])}\n            className=\"nav main-nav\"\n          >\n            {renderMainMenu()}\n          </nav>\n          <nav\n            aria-label={intl.formatMessage(messages['header.label.secondary.nav'])}\n            className=\"nav secondary-menu-container align-items-center ml-auto\"\n          >\n            {loggedIn\n              ? (\n                <>\n                  {renderSecondaryMenu()}\n                  {renderUserMenu()}\n                </>\n              ) : renderLoggedOutItems()}\n          </nav>\n        </div>\n      </div>\n    </header>\n  );\n};\n\nexport const desktopHeaderDataShape = {\n  mainMenu: desktopHeaderMainOrSecondaryMenuDataShape,\n  secondaryMenu: desktopHeaderMainOrSecondaryMenuDataShape,\n  userMenu: desktopUserMenuDataShape,\n  loggedOutItems: desktopLoggedOutItemsDataShape,\n  logo: PropTypes.string,\n  logoAltText: PropTypes.string,\n  logoDestination: PropTypes.string,\n  avatar: PropTypes.string,\n  username: PropTypes.string,\n  loggedIn: PropTypes.bool,\n};\n\nDesktopHeader.propTypes = {\n  mainMenu: desktopHeaderDataShape.mainMenu,\n  secondaryMenu: desktopHeaderDataShape.secondaryMenu,\n  userMenu: desktopHeaderDataShape.userMenu,\n  loggedOutItems: desktopHeaderDataShape.loggedOutItems,\n  logo: desktopHeaderDataShape.logo,\n  logoAltText: desktopHeaderDataShape.logoAltText,\n  logoDestination: desktopHeaderDataShape.logoDestination,\n  avatar: desktopHeaderDataShape.avatar,\n  username: desktopHeaderDataShape.username,\n  loggedIn: desktopHeaderDataShape.loggedIn,\n};\n\nDesktopHeader.defaultProps = {\n  mainMenu: [],\n  secondaryMenu: [],\n  userMenu: [],\n  loggedOutItems: [],\n  logo: null,\n  logoAltText: null,\n  logoDestination: null,\n  avatar: null,\n  username: null,\n  loggedIn: false,\n};\n\nexport default DesktopHeader;\n"],"mappings":"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","ignoreList":[]}